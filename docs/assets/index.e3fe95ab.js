var B=Object.defineProperty,U=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var T=(p,s,u)=>s in p?B(p,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):p[s]=u,h=(p,s)=>{for(var u in s||(s={}))R.call(s,u)&&T(p,u,s[u]);if(C)for(var u of C(s))P.call(s,u)&&T(p,u,s[u]);return p},N=(p,s)=>U(p,M(s));import{D,d as S,r as b,e as l,o as y,c as A,w as r,f as t,N as w,t as d,i as m,g as I,b as E,a7 as O,u as j}from"./vendor.47a4e3a1.js";import{_ as V,u as z}from"./index.dee803d5.js";function K(p){return D.post("/api/channel-form/submit",{data:p})}const Z=m("APP\u901A\u7528\u6E20\u9053"),G=S({emits:["changeStep"],setup(p,{emit:s}){const u=b(),e=b({activityName:"",channelType:"",promotionTime:[],promoteLink:"https://arco.design"}),v=async()=>{var o;await((o=u.value)==null?void 0:o.validate())||s("changeStep","forward",h({},e.value))};return(n,o)=>{const a=l("AInput"),i=l("AFormItem"),c=l("AOption"),_=l("ASelect"),F=l("ARangePicker"),$=l("AButton"),k=l("AForm");return y(),A(k,{ref_key:"formRef",ref:u,model:e.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r(()=>[t(i,{field:"activityName",label:n.$t("stepForm.form.label.activityName"),rules:[{required:!0,message:n.$t("stepForm.form.error.activityName.required")},{match:/^[a-zA-Z0-9\u4e00-\u9fa5]{1,20}$/,message:n.$t("stepForm.form.error.activityName.pattern")}]},{default:r(()=>[t(a,{modelValue:e.value.activityName,"onUpdate:modelValue":o[0]||(o[0]=f=>e.value.activityName=f),placeholder:n.$t("stepForm.placeholder.activityName")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"channelType",label:n.$t("stepForm.form.label.channelType"),rules:[{required:!0,message:n.$t("stepForm.form.error.channelType.required")}]},{default:r(()=>[t(_,{modelValue:e.value.channelType,"onUpdate:modelValue":o[1]||(o[1]=f=>e.value.channelType=f),placeholder:n.$t("stepForm.placeholder.channelType")},{default:r(()=>[t(c,null,{default:r(()=>[Z]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"promotionTime",label:n.$t("stepForm.form.label.promotionTime"),rules:[{required:!0,message:n.$t("stepForm.form.error.promotionTime.required")}]},{default:r(()=>[t(F,{modelValue:e.value.promotionTime,"onUpdate:modelValue":o[2]||(o[2]=f=>e.value.promotionTime=f)},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(i,{field:"promoteLink",label:n.$t("stepForm.form.label.promoteLink"),rules:[{required:!0,message:n.$t("stepForm.form.error.promoteLink.required")},{type:"url",message:n.$t("stepForm.form.error.promoteLink.pattern")}],"row-class":"keep-margin"},{help:r(()=>[w("span",null,d(n.$t("stepForm.form.tip.promoteLink")),1)]),default:r(()=>[t(a,{modelValue:e.value.promoteLink,"onUpdate:modelValue":o[3]||(o[3]=f=>e.value.promoteLink=f),placeholder:n.$t("stepForm.placeholder.promoteLink")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,null,{default:r(()=>[t($,{type:"primary",onClick:v},{default:r(()=>[m(d(n.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});var H=V(G,[["__scopeId","data-v-5aa5af3a"]]);const J=m("\u4ECA\u65E5\u5934\u6761"),Q=m("\u706B\u5C71"),W=S({emits:["changeStep"],setup(p,{emit:s}){const u=b(),e=b({advertisingSource:"",advertisingMedia:"",keyword:[],pushNotify:!0,advertisingContent:""}),v=async()=>{var a;await((a=u.value)==null?void 0:a.validate())||s("changeStep","submit",h({},e.value))},n=()=>{s("changeStep","backward")};return(o,a)=>{const i=l("AInput"),c=l("AFormItem"),_=l("AOption"),F=l("ASelect"),$=l("ASwitch"),k=l("ATextarea"),f=l("AButton"),q=l("ASpace"),L=l("AForm");return y(),A(L,{ref_key:"formRef",ref:u,model:e.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r(()=>[t(c,{field:"advertisingSource",label:o.$t("stepForm.form.label.advertisingSource"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingSource.required")}]},{default:r(()=>[t(i,{modelValue:e.value.advertisingSource,"onUpdate:modelValue":a[0]||(a[0]=g=>e.value.advertisingSource=g),placeholder:o.$t("stepForm.placeholder.advertisingSource")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(c,{field:"advertisingMedia",label:o.$t("stepForm.form.label.advertisingMedia"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingMedia.required")}]},{default:r(()=>[t(i,{modelValue:e.value.advertisingMedia,"onUpdate:modelValue":a[1]||(a[1]=g=>e.value.advertisingMedia=g),placeholder:o.$t("stepForm.placeholder.advertisingMedia")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(c,{field:"keyword",label:o.$t("stepForm.form.label.keyword"),rules:[{required:!0,message:o.$t("stepForm.form.error.keyword.required")}]},{default:r(()=>[t(F,{modelValue:e.value.keyword,"onUpdate:modelValue":a[2]||(a[2]=g=>e.value.keyword=g),placeholder:o.$t("stepForm.placeholder.keyword"),multiple:""},{default:r(()=>[t(_,null,{default:r(()=>[J]),_:1}),t(_,null,{default:r(()=>[Q]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(c,{field:"pushNotify",label:o.$t("stepForm.form.label.pushNotify"),rules:[{required:!0}]},{default:r(()=>[t($,{modelValue:e.value.pushNotify,"onUpdate:modelValue":a[3]||(a[3]=g=>e.value.pushNotify=g)},null,8,["modelValue"])]),_:1},8,["label"]),t(c,{field:"advertisingContent",label:o.$t("stepForm.form.label.advertisingContent"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingContent.required")},{maxLength:200,message:o.$t("stepForm.form.error.advertisingContent.maxLength")}],"row-class":"keep-margin"},{default:r(()=>[t(k,{modelValue:e.value.advertisingContent,"onUpdate:modelValue":a[4]||(a[4]=g=>e.value.advertisingContent=g),placeholder:o.$t("stepForm.placeholder.advertisingContent")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(c,null,{default:r(()=>[t(q,null,{default:r(()=>[t(f,{type:"secondary",onClick:n},{default:r(()=>[m(d(o.$t("stepForm.button.prev")),1)]),_:1}),t(f,{type:"primary",onClick:v},{default:r(()=>[m(d(o.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});var X=V(W,[["__scopeId","data-v-412a8ce2"]]);const Y={class:"success-wrap"},x={class:"details-wrapper"},ee=S({emits:["changeStep"],setup(p,{emit:s}){const u=()=>{s("changeStep",1)};return(e,v)=>{const n=l("AResult"),o=l("AButton"),a=l("ASpace"),i=l("ATypographyTitle"),c=l("ALink"),_=l("ATypographyParagraph");return y(),I("div",Y,[t(n,{status:"success",title:e.$t("stepForm.success.title"),subtitle:e.$t("stepForm.success.subTitle")},null,8,["title","subtitle"]),t(a,{size:16},{default:r(()=>[t(o,{key:"view",type:"primary"},{default:r(()=>[m(d(e.$t("stepForm.button.view")),1)]),_:1}),t(o,{key:"again",type:"secondary",onClick:u},{default:r(()=>[m(d(e.$t("stepForm.button.again")),1)]),_:1})]),_:1}),w("div",x,[t(i,{heading:6,style:{"margin-top":"0"}},{default:r(()=>[m(d(e.$t("stepForm.form.description.title")),1)]),_:1}),t(_,{style:{"margin-bottom":"0"}},{default:r(()=>[m(d(e.$t("stepForm.form.description.text"))+" ",1),t(c,{href:"link"},{default:r(()=>[m(d(e.$t("stepForm.button.view")),1)]),_:1})]),_:1})])])}}});var te=V(ee,[["__scopeId","data-v-e5852408"]]);const oe={class:"container"},re={class:"wrapper"},ae={name:"Step"},le=S(N(h({},ae),{setup(p){const{loading:s,setLoading:u}=z(!1),e=b(1),v=b({}),n=async()=>{u(!0);try{await K(v.value),e.value=3,v.value={}}catch{}finally{u(!1)}},o=(a,i)=>{if(typeof a=="number"){e.value=a;return}if(a==="forward"||a==="submit"){if(v.value=h(h({},v.value),i),a==="submit"){n();return}e.value+=1}else a==="backward"&&(e.value-=1)};return(a,i)=>{const c=l("Breadcrumb"),_=l("AStep"),F=l("ASteps"),$=l("ACard"),k=l("ASpin");return y(),I("div",oe,[t(c,{items:["menu.form","menu.form.step"]},null,8,["items"]),t(k,{loading:j(s),style:{width:"100%"}},{default:r(()=>[t($,{class:"general-card"},{title:r(()=>[m(d(a.$t("stepForm.step.title")),1)]),default:r(()=>[w("div",re,[t(F,{current:e.value,"onUpdate:current":i[0]||(i[0]=f=>e.value=f),style:{width:"580px"},"line-less":"",class:"steps"},{default:r(()=>[t(_,{description:a.$t("stepForm.step.subTitle.baseInfo")},{default:r(()=>[m(d(a.$t("stepForm.step.title.baseInfo")),1)]),_:1},8,["description"]),t(_,{description:a.$t("stepForm.step.subTitle.channel")},{default:r(()=>[m(d(a.$t("stepForm.step.title.channel")),1)]),_:1},8,["description"]),t(_,{description:a.$t("stepForm.step.subTitle.finish")},{default:r(()=>[m(d(a.$t("stepForm.step.title.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(y(),A(O,null,[e.value===1?(y(),A(H,{key:0,onChangeStep:o})):e.value===2?(y(),A(X,{key:1,onChangeStep:o})):e.value===3?(y(),A(te,{key:2,onChangeStep:o})):E("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}}));var pe=V(le,[["__scopeId","data-v-6e1891d0"]]);export{pe as default};
